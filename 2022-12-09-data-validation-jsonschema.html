<!DOCTYPE html>
<html lang="en">
<head>

	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <!-- dynamically fixing the title for tag/author pages -->



    <title>Data validation with JSON Schema</title>
	<meta name="HandheldFriendly" content="True" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico">
	<link rel="stylesheet" type="text/css" href="/assets/css/syntax.min.css" />
	<link rel="stylesheet" type="text/css" href="/assets/css/style.css" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
		integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A=="
		crossorigin="anonymous" referrerpolicy="no-referrer" />
	<script>
			var siteUrl = 'https://biomadeira.github.io/';
	</script>

	<script>
			var localTheme = localStorage.getItem('biomadeira_attila_theme');
			switch (localTheme) {
					case 'dark':
							document.documentElement.classList.add('theme-dark');
							break;
					case 'light':
							document.documentElement.classList.add('theme-light');
							break;
					default:
							break;
			}
			
	</script>

    <style>
		.theme-dark:root {
			--ghost-accent-color: #ff6633;
		}
		.theme-light:root {
			--ghost-accent-color: #ff6633;
		}
		@media (prefers-color-scheme: dark) {
			html:not(.theme-light):root {
			--ghost-accent-color: #ff6633;
			}
		}
	</style>

	<meta name="description" content="Bioinformatics and other digressions" />
    <link rel="shortcut icon" href="https://biomadeira.github.io/assets/images/favicon.ico" type="image/x-icon" />
    <link rel="canonical" href="https://biomadeira.github.io/" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     
     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="biomadeira" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Data validation with JSON Schema" />
    <meta property="og:description" content="Bioinformatics and other digressions" />
    <meta property="og:url" content="https://biomadeira.github.io/2022-12-09-data-validation-jsonschema" />
    <meta property="og:image" content="https://biomadeira.github.io/assets/images/json-schema-process.jpeg" />
    
    <meta property="article:tag" content="Schemas" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Data validation with JSON Schema" />
    <meta name="twitter:description" content="Bioinformatics and other digressions" />
    <meta name="twitter:url" content="https://biomadeira.github.io/2022-12-09-data-validation-jsonschema" />
    <meta name="twitter:image" content="https://biomadeira.github.io/assets/images/json-schema-process.jpeg" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="biomadeira" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Schemas" />
    <meta name="twitter:site" content="@biomadeira" />
    <meta name="twitter:creator" content="@biomadeira" />
    <meta property="og:image:width" content="2000" />
    <meta property="og:image:height" content="666" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "biomadeira",
        "logo": "https://biomadeira.github.io/"
    },
    "url": "https://biomadeira.github.io/2022-12-09-data-validation-jsonschema",
    "image": {
        "@type": "ImageObject",
        "url": "https://biomadeira.github.io/assets/images/json-schema-process.jpeg",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://biomadeira.github.io/2022-12-09-data-validation-jsonschema"
    },
    "description": "Bioinformatics and other digressions"
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.9.2" />
    <link rel="alternate" type="application/rss+xml" title="Data validation with JSON Schema" href="/feed.xml" />

</head>

<body class="post-template">

	<div class="nav-header">
		<nav class="nav-wrapper" aria-label="Main">
				
				<ul>

     <li class="nav-home has-cover " ><a href="https://biomadeira.github.io/"><span>FM</span></a></li>






</ul>

                <ul class="nav-meta">
  
  <li class="nav-twitter">
    <a aria-label="Mastodon" rel="me" href="https://fosstodon.org/@biomadeira" title="biomadeira" target="_blank">
      <i class="fa-brands fa-mastodon"></i>
      <span>biomadeira</span>
    </a>
  </li>
  
  
  <li class="nav-twitter">
    <a aria-label="Twitter" href="https://twitter.com/biomadeira" title="biomadeira" target="_blank">
      <i class="fa-brands fa-twitter"></i>
      <span>biomadeira</span>
    </a>
  </li>
  
  
  <li class="nav-github">
    <a aria-label="GitHub" href="https://github.com/biomadeira" title="biomadeira" target="_blank">
      <i class="fa-brands fa-github"></i>
      <span>biomadeira</span>
    </a>
  </li>
  
  
  
  <li class="nav-mode">
      <a aria-label="Mode" class="js-theme theme-icon" title="Toggle light/dark mode" href="#" data-dark="Dark theme" data-light="Light theme">
      </a>
  </li>
</ul>


		</nav>

		<div class="nav-wrapper-control">
			<div class="inner">
				<a class="nav-menu" role="button"><i class="icon icon-menu" aria-hidden="true"></i>Menu</a>
			</div>
		</div>
	</div>
	<div class="nav-close" role="button" aria-label="Close"></div>

	<section class="page-wrapper">

        <div class="progress-container">
	<span class="progress-bar"></span>
</div>

<!--<header class="post-header  has-cover">-->
<header class="post-header">
	<div class="inner">
		<span class="post-info">
			<span class="post-type">Article</span>
			
			<span class="post-count"><a href="/tag/schemas/">Schemas</a></span>
			

		</span>
		<h1 class="post-title">Data validation with JSON Schema</h1>
		<div class="post-meta">
			<div class="post-meta-avatars">
				
                    
					<figure class="post-meta-avatar avatar">
						
						<a href="/author/biomadeira" class="author-avatar">
								<img class="author-profile-image" src="/assets/images/fabio.jpeg" alt="biomadeira" />
						</a>
						
					</figure>
					
                
			</div>
			
			
			<h4 class="post-meta-author"><a href="/author/biomadeira">Fábio Madeira</a></h4>
			
			
			<time datetime=" 9 December 2022"> 9 December 2022</time> &bull; 
			
			
			
				7 min read
			
		</div>
<!--		-->
<!--		<div class="post-cover cover">-->
<!--			&lt;!&ndash; <img-->
<!--            srcset=" 320w,-->
<!--                     640w,-->
<!--                     960w,-->
<!--                     1920w"-->
<!--            src=""-->
<!--            alt="Data validation with JSON Schema" /> &ndash;&gt;-->
<!--			<img class="blog-cover cover" src="/assets/images/json-schema-process.jpeg" alt="Data validation with JSON Schema" />-->
<!--		</div>-->
<!--		-->
	</div>
</header>

<main class="content" role="main">
	<article class="">
		<div class="inner">

			<section class="post-content">
				<p><a href="https://json-schema.org/">JSON Schema</a> is a declarative language that allows annotation and 
validation of JSON documents. 
The benefits of JSON Schema are that it can fully describe existing data formats, and it provides clear
human and machine-readable documentation.</p>

<blockquote>
  <p>JSON Schema enables the confident and reliable use of the JSON data format.</p>
</blockquote>

<p>The document containing the formal description or definiton is called the schema. 
The term <em>Schema</em> is well known within computer programming, particularly in regards to relational databases.
In that context, the schema describes the structure and rules of a database and the relationships 
between data elements.
In a broader sense, a schema refers to any structured document with a set rules and restrictions.
The JSON document being validated or described is usually called the instance.</p>

<h2 id="getting-started-with-json-schema">Getting started with JSON Schema</h2>

<p>The most basic schema is a blank JSON object <code class="language-plaintext highlighter-rouge">{}</code>, 
which allows any data structure but unfortunately it is not very useful as it does not describe
anything in particular.</p>

<p>From the <a href="https://json-schema.org/learn/getting-started-step-by-step.html">JSON Schema Getting started guide</a>,
to start a JSON Schema definition, we need to add a few properties called <strong>keywords</strong>,
which are expressed as JSON keys:</p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="nl">"$schema"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://json-schema.org/draft/2020-12/schema"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"$id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/product.schema.json"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Product"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A product in the catalog"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"object"</span><span class="w">
</span><span class="p">}</span></code></pre></figure>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">$schema</code> keyword states that this schema is written according to a specific draft of the
standard and used for a variety of reasons, primarily version control.</li>
  <li>The <code class="language-plaintext highlighter-rouge">$id</code> keyword defines a URI for the schema, and the base URI that other URI references within 
the schema are resolved against.</li>
  <li>The <code class="language-plaintext highlighter-rouge">title</code> and <code class="language-plaintext highlighter-rouge">description</code> annotation keywords are descriptive only. 
They do not add constraints to the data being validated. 
The intent of the schema is stated with these two keywords.</li>
  <li>The <code class="language-plaintext highlighter-rouge">type</code> validation keyword defines the first constraint on our JSON data and in this case 
it has to be a JSON Object.</li>
</ul>

<p>Then we need to define the <code class="language-plaintext highlighter-rouge">properties</code> and <code class="language-plaintext highlighter-rouge">required</code> validation keywords.</p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="nl">"$schema"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://json-schema.org/draft/2020-12/schema"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"$id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/product.schema.json"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Product"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A product from the catalog"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"object"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"productId"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The unique identifier for a product"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"integer"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"productName"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Name of the product"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The price of the product"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"number"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"exclusiveMinimum"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tags for the product"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"array"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"minItems"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"uniqueItems"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"required"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"productId"</span><span class="p">,</span><span class="w"> </span><span class="s2">"productName"</span><span class="p">,</span><span class="w"> </span><span class="s2">"price"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span></code></pre></figure>

<p>The validation keywords are useful to restrict the datatypes the properties can take.
The <code class="language-plaintext highlighter-rouge">type</code> keyword can be used to restrict an instance to an 
<code class="language-plaintext highlighter-rouge">object</code>, <code class="language-plaintext highlighter-rouge">array</code>, <code class="language-plaintext highlighter-rouge">string</code>, <code class="language-plaintext highlighter-rouge">integer</code>, <code class="language-plaintext highlighter-rouge">number</code>, <code class="language-plaintext highlighter-rouge">boolean</code>, or <code class="language-plaintext highlighter-rouge">null</code>.
JSON Schema provides many additional datatype-specific keywords, as shown for example
for the “tags” <code class="language-plaintext highlighter-rouge">array</code> type: <code class="language-plaintext highlighter-rouge">items</code>, <code class="language-plaintext highlighter-rouge">uniqueItems</code>, <code class="language-plaintext highlighter-rouge">minItems</code>, etc.</p>

<p>With object and array types we can produce nested data structures.
For example, the “dimensions” key is of type <code class="language-plaintext highlighter-rouge">object</code>. We can then use the properties validation keyword 
to define the nested data structure as shown below:</p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="nl">"$schema"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://json-schema.org/draft/2020-12/schema"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"$id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/product.schema.json"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Product"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A product from the catalog"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"object"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"$comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"(...) example truncated for brevity"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"dimensions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"object"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"length"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"number"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"width"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"number"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"height"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"number"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"required"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"length"</span><span class="p">,</span><span class="w"> </span><span class="s2">"width"</span><span class="p">,</span><span class="w"> </span><span class="s2">"height"</span><span class="w"> </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"required"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"dimensions"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span></code></pre></figure>

<p>Another neat feature is that JSON Schema allows sharing the  schema across many data structures 
for reuse, readability and maintainability.
This can be achieved with the <code class="language-plaintext highlighter-rouge">$ref</code> keyword. 
In our previous example, we could have an externally referenced shema <em>geolocation.shema.json</em> 
defining a part of our data.</p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="w">    </span><span class="nl">"warehouseLocation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Coordinates of the warehouse where the product is located."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"$ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/geolocation.schema.json"</span><span class="w">
    </span><span class="p">}</span></code></pre></figure>

<p>The overall process of validating data using JSON Schema is illustrated in the 
diagram below:</p>

<figure class="kg-card kg-image-card kg-width-wide kg-card-hascaption">
    <img src="assets/images/json-schema-process.jpeg" class="kg-image" alt="JSON Schema validation example" />
    <figcaption>JSON Schema validation process.</figcaption>
</figure>

<p>JSON Schema is hypermedia ready, and can be used for annotating existing JSON-based HTTP APIs.
In fact, the <a href="https://swagger.io/specification/">OpenAPI Specification</a> (formerly known as Swagger Specification),
which is a popular language-agnostic interface description for HTTP APIs, 
is based on an extended subset of JSON Schema.</p>

<p>JSON Schema is primarily used for describing large sets of self-contained data, 
used as a data descriptor. JSON data can be expanded, though, with linked data, and that is where
<a href="https://json-ld.org/">JSON-LD</a> comes into the picture. 
JSON-LD is a common <a href="https://schema.org/">Schema.org</a> markup format. 
It is a lightweight <em>linked data</em> format 
which helps creating a network of standards-based, machine-readable data across web sites.
It is an ideal data format for programming environments and REST web services, as it
allows an application to start at one piece of linked data, and follow embedded links
to other pieces of linked data that are hosted on different sites across the web.</p>

<h2 id="working-with-json-schema-in-python">Working with JSON Schema in Python</h2>

<p>In addition to other <a href="https://json-schema.org/implementations.html#schema-linter">linters and validators</a> 
that can be used to check schemas themselves, 
one can validate data against a schema with <a href="https://python-jsonschema.readthedocs.io/en/stable/">jsonschema</a>,
which is an implementation of the JSON Schema specification for Python.
<code class="language-plaintext highlighter-rouge">jsonschema</code> can be installed locally with <code class="language-plaintext highlighter-rouge">pip install jsonschema</code>.</p>

<p>The snippet below shows a small validator that uses <code class="language-plaintext highlighter-rouge">jsonschema</code>.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="c1">#!/usr/bin/env python
# -*- coding: utf-8
</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">easyargs</span>
<span class="kn">import</span> <span class="nn">jsonschema</span>


<span class="o">@</span><span class="n">easyargs</span>
<span class="k">def</span> <span class="nf">validate_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span> <span class="k">as</span> <span class="n">schema_file</span><span class="p">:</span>
        <span class="n">schema_obj</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="n">schema_file</span><span class="p">)</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="k">as</span> <span class="n">data_file</span><span class="p">:</span>
        <span class="n">data_obj</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="n">data_file</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">jsonschema</span><span class="p">.</span><span class="n">validate</span><span class="p">(</span><span class="n">data_obj</span><span class="p">,</span> <span class="n">schema_obj</span><span class="p">,</span> <span class="n">jsonschema</span><span class="p">.</span><span class="n">Draft7Validator</span><span class="p">)):</span>
        <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"JSON '</span><span class="si">{</span><span class="n">data</span><span class="si">}</span><span class="s">' validated against JSON schema '</span><span class="si">{</span><span class="n">schema</span><span class="si">}</span><span class="s">' ..."</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"Validated - JSON has all the required fields and expected data types!"</span><span class="p">)</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="n">validate_schema</span><span class="p">()</span></code></pre></figure>

<p>This small comman-line tool (<code class="language-plaintext highlighter-rouge">validate_schema.py</code>) could be executed as 
<code class="language-plaintext highlighter-rouge">python validate_schema.py example.schema.json example.data.json</code>.
Alternatively, one could simply run
<code class="language-plaintext highlighter-rouge">jsonschema --validator Draft7Validator -i example.schema.json example.data.json</code>.
Note that we are using the <em>Draft7Validator</em>, but other schema versions could be used.</p>

<h2 id="json-schema-in-bioinformatics">JSON Schema in Bioinformatics</h2>

<p>JSON Schema has great potential application in Bioinformatics and in other scientific fields. 
Particularly, in projects that rely on user submission and deposition of data. 
There might be many examples that could illustrate a good use of JSON Schema in existing projects,
but I named a couple below which are closer to my heart.</p>

<p>The Protein Data Bank in Europe – Knowledge Base (<a href="https://www.ebi.ac.uk/pdbe/pdbe-kb/">PDBe-KB</a>) has developed 
the <a href="https://github.com/PDBe-KB/funpdbe-schema">FunPDBe Data Exchange Format</a>, 
which powers the Community-driven enrichment of PDB data, FunPDBe.
This is essentially JSON Schema, which specifies all the details of the data exchange format that is used by FunPDBe.
In addition to the schema specification, the project provides a format validation tool
(<a href="https://gitlab.ebi.ac.uk/pdbe-kb/funpdbe/funpdbe-validator">funpdbe-validator</a>).
This is a Python package that checks overall data sanity and whether the data are valid against the schema.</p>

<p>Another example, is the <a href="https://github.com/ebi-jdispatcher/sss_json_schema">SSS JSON Schema</a>
project.
This is a JSON Schema for standardising EMBL-EBI’s Job Dispatcher 
<a href="https://www.ebi.ac.uk/Tools/sss/">Sequence Similarity Search (SSS)</a> bioinformatics tool outputs. 
Tool outputs from NCBI BLAST+, FASTA, PSI-BLAST, PSI-SEARCH and others are converted into a JSON format,
that is then validated against the developed schema. 
Examples are also provided on how to validate the outputs against the SSS JSON Schema.</p>

<h2 id="concluding-remarks">Concluding remarks</h2>

<p>JSON Schema is a lightweight data interchange format that generates human and machine-readable documentation, 
making validation and testing easier. 
It is used extensively for data validaion and to describe the structure of JSON documents.
There are many alternatives out there, for example, 
<a href="https://typeschema.org/">TypeSchema</a>, which focus more on the definition of data models.
Specifically focusing on data validation, a great JSON Schema alternative for Python is
<a href="https://docs.pydantic.dev/">Pydantic</a>.
Pydantic uses Python type annotations and it is very popular for data validation and settings management.
It allows auto creation of JSON schemas from models and the generated JSON is 
compliant with the both JSON Schema and OpenAPI specifications.</p>

<p>The main benefit of JSON Schema, for me, is that it can be used to validate data used in automated testing
and, importantly, to validate user or client submitted data.
Do you use JSON Schema? Share your experiences and your feedback!</p>

<hr />
<p>Image taken from <a href="https://www.asyncapi.com/blog/json-schema-beyond-validation">https://www.asyncapi.com/blog/json-schema-beyond-validation</a></p>

			</section>

			<section class="post-footer">

				<div class="post-share">
					<span class="post-info-label">Share</span>
					<a title="Twitter" aria-label="Twitter" class="twitter" href="https://twitter.com/share?text=&url=https://biomadeira.github.io/2022-12-09-data-validation-jsonschema" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
						<i class="icon icon-twitter" aria-hidden="true"></i>
					</a>
					<a title="Facebook" aria-label="Facebook" class="facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://biomadeira.github.io/2022-12-09-data-validation-jsonschema" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
						<i class="icon icon-facebook" aria-hidden="true"></i>
					</a>
					<a title="LinkedIn" aria-label="LinkedIn" class="linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://biomadeira.github.io/2022-12-09-data-validation-jsonschema&amp;title=Data validation with JSON Schema" onclick="window.open(this.href, 'linkedin-share', 'width=930,height=720');return false;">
						<i class="icon icon-linkedin" aria-hidden="true"></i>
					</a>
					<a title="Email" aria-label="Email" class="email" href="mailto:?subject=Data validation with JSON Schema&amp;body=https://biomadeira.github.io/2022-12-09-data-validation-jsonschema">
						<i class="icon icon-mail" aria-hidden="true"></i>
					</a>
				</div>

				
				<aside class="post-tags">
					<span class="post-info-label">Topic</span>
					
						<a href="/tag/schemas/">Schemas</a>
					
						<a href="/tag/json/">JSON</a>
					
						<a href="/tag/python/">Python</a>
					
						<a href="/tag/bioinformatics/">Bioinformatics</a>
					
						<a href="/tag/tech/">Tech</a>
					
				</aside>
				

			</section>

			

	  


			<aside class="post-nav">

				
					<a class="post-nav-next" href="/2022-12-20-cloud-vs-on-premise">
						<section class="post-nav-teaser">
							<i class="icon icon-arrow-left" aria-label="Next post"></i>
							<h2 class="post-nav-title">Running scientific workflows: public cloud vs on-premise</h2>
							<p class="post-nav-excerpt">In recent years, there has been a growing trend among scientific researchers&hellip;</p>
							<p class="post-nav-meta"><time datetime="20 December 2022">20 December 2022</time></p>
						</section>
					</a>
				

				
					<a class="post-nav-prev" href="/2022-11-23-user-friendly-clis">
						<section class="post-nav-teaser">
							<i class="icon icon-arrow-right" aria-label="Previous post"></i>
							<h2 class="post-nav-title">Building user-friendly CLIs with Click</h2>
							<p class="post-nav-excerpt">In software development, we use command line interface (CLI) applications all the&hellip;</p>
							<p class="post-nav-meta"><time datetime="23 November 2022">23 November 2022</time></p>
						</section>
					</a>
				
				<div class="clear"></div>
			</aside>

		</div>
	</article>
</main>


		<div class="nav-footer">
			<nav class="nav-wrapper" aria-label="Footer">
				<span class="nav-copy">biomadeira.github.io &copy; 2023
					&bull;
					<a href="https://biomadeira.github.io/policies">Blog policies and disclaimers</a>
					&bull;
					<a href="https://biomadeira.github.io/feed.xml"
						target="_blank">
						Subscribe <i class="fa-solid fa-rss"></i></a>
				</span>
				<span class="nav-credits">
					<a id="backToTop" title="Back to top" onclick="topFunction()" href="#" rel="noopener"><i class="fa-solid fa-arrow-up"></i> Back to top</a>
				</span>
			</nav>
		</div>

	</section>

	<script type="text/javascript" src="/assets/js/script.min.js"></script>

     <!-- Add Google Analytics  -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-R9654BB9RP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());

  gtag('config', 'G-R9654BB9RP');
</script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
	<script>
	$(document).ready(function () {
			var viewport = $(window);
			var post = $('.post-content');
			// Responsive videos with fitVids
		post.fitVids();
			// Format code blocks and add line numbers
			function codestyling() {
			$('pre code').each(function(i, e) {
			// Code highlight
			// hljs.highlightBlock(e);
			// No lines for plain text blocks
			if (!$(this).hasClass('language-text')) {
				var code = $(this);
						// Calculate amount of lines
				var lines = code.html().split(/\n(?!$)/g).length;
				var numbers = [];
				if (lines > 1) {
				lines++;
				}
				for (i = 1; i < lines; i++) {
				numbers += '<span class="line" aria-hidden="true">' + i + '</span>';
				}
				code.parent().append('<div class="lines">' + numbers + '</div>');
			}
			});
		}
		codestyling();
			// Reading progress bar on window top
		function readingProgress() {
				var postBottom = post.offset().top + post.height();
				var viewportHeight = viewport.height();
		var progress = 100 - (((postBottom - (viewport.scrollTop() + viewportHeight) + viewportHeight / 3) / (postBottom - viewportHeight + viewportHeight / 3)) * 100);
		$('.progress-bar').css('width', progress + '%');
		(progress > 100) ? $('.progress-container').addClass('complete'): $('.progress-container').removeClass('complete');
		}
		readingProgress();
			// Trigger reading progress
		viewport.on({
			'scroll': function() {
			readingProgress();
			},
			'resize': function() {
			readingProgress();
			},
			'orientationchange': function() {
			readingProgress();
			}
		});

			
	});
	</script>
    


</body>
</html>
